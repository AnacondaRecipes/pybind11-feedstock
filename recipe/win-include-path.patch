From 0231d46c68c0fbbe4ef0d9ce58faca3f9807603d Mon Sep 17 00:00:00 2001
From: Samuel Debionne <samuel.debionne@esrf.fr>
Date: Mon, 12 Aug 2019 15:15:23 +0200
Subject: [PATCH 1/2] Detect whether we are running in a Conda environment and
 adjust get_include accordingly

---
 pybind11/__init__.py | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/pybind11/__init__.py b/pybind11/__init__.py
index 5782ffea2..dd4ae7e7d 100644
--- a/pybind11/__init__.py
+++ b/pybind11/__init__.py
@@ -9,10 +9,18 @@ def get_include(user=False):
     # Are we running in a virtual environment?
     virtualenv = hasattr(sys, 'real_prefix') or \
         sys.prefix != getattr(sys, "base_prefix", sys.prefix)
+    
+    # Are we running in a conda environment?
+    conda = os.path.exists(os.path.join(sys.prefix, 'conda-meta'))
 
     if virtualenv:
         return os.path.join(sys.prefix, 'include', 'site',
                             'python' + sys.version[:3])
+    elif conda:
+        if os.name == 'nt':
+            return os.path.join(sys.prefix, 'Library', 'include')
+        else:
+            return os.path.join(sys.prefix, 'include')
     else:
         dist = Distribution({'name': 'pybind11'})
         dist.parse_config_files()

From 5b1b73b83b59257943411871c9bebe34bdcdedb4 Mon Sep 17 00:00:00 2001
From: Samuel Debionne <samuel.debionne@gmail.com>
Date: Thu, 15 Aug 2019 19:57:14 +0200
Subject: [PATCH 2/2] Remove whitespaces

---
 pybind11/__init__.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/pybind11/__init__.py b/pybind11/__init__.py
index dd4ae7e7d..c625e8c94 100644
--- a/pybind11/__init__.py
+++ b/pybind11/__init__.py
@@ -9,7 +9,7 @@ def get_include(user=False):
     # Are we running in a virtual environment?
     virtualenv = hasattr(sys, 'real_prefix') or \
         sys.prefix != getattr(sys, "base_prefix", sys.prefix)
-    
+
     # Are we running in a conda environment?
     conda = os.path.exists(os.path.join(sys.prefix, 'conda-meta'))
 

